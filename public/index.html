<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>SOmusic - music from social network</title>

  <link rel="stylesheet" href="vendor/angular-material/angular-material.min.css">
  <link rel="stylesheet" href="css/somusic.css">
  <link rel="stylesheet" href="css/somusic-dark.css" id="theme">
  <link rel="icon" type="image/x-icon" sizes="any" href="images/favico.png"/>
</head>
<body ng-app="somusicApp" ng-cloak layout="row" ng-controller="MainController as controller">
  <div layout="column" layout-fill>
    <header>
      <md-toolbar>
        <div class="md-toolbar-tools">
          <md-icon md-svg-src="images/favico.svg"></md-icon>
          <span class="title md-title">
            SOmusic
          </span>
          <span class="subtitle" hide-xs>
            music from social network
          </span>
          <span flex></span>
          <md-button class="md-icon-button" ng-click="toggleLight();">
            <md-icon md-svg-src="images/lightbulb.svg"></md-icon>
          </md-button>
          <md-button class="md-icon-button" href="https://github.com/l2fprod/somusic-webui">
            <md-icon md-svg-src="images/github-circle.svg"></md-icon>
          </md-button>
          <a href="https://twitter.com/l2fprod" class="twitter-follow-button" data-show-count="false" data-size="large" data-dnt="true">Follow @l2fprod</a>
          <script>
            ! function(d, s, id) {
              var js, fjs = d.getElementsByTagName(s)[0],
                p = /^http:/.test(d.location) ? 'http' : 'https';
              if (!d.getElementById(id)) {
                js = d.createElement(s);
                js.id = id;
                js.src = p + '://platform.twitter.com/widgets.js';
                fjs.parentNode.insertBefore(js, fjs);
              }
            }(document, 'script', 'twitter-wjs');

          </script>

        </div>
      </md-toolbar>
    </header>
    <spinner>
      <md-progress-linear class="loadingProgress" id="loadingProgress" md-mode="indeterminate"></md-progress-linear>
    </spinner>

    <div class="container" layout="row" layout-xs="column" flex>
      <div class="sidebar" flex-gt-xs="20" flex-xs="none" hide-xs>

        <div class="sidebar-section">
          <div class="sidebar-section-title">
            Popular
          </div>

          <div>
            <a class="sidebar-section-route" ui-sref-active="active" ui-sref="home()">Recently</a>
          </div>

          <div ng-repeat="month in currentMonths track by $index">
            <a class="sidebar-section-route" ui-sref-active="active"
              ui-sref="by_month({year: month.format('YYYY'), month: month.format('MM')})">
              {{month.format('MMMM YYYY')}}
            </a>
          </div>
        </div>

        <div class="sidebar-section-separator"></div>

        <div class="sidebar-section">
          <div class="sidebar-section-title">
            About
          </div>
          <p>
            SOmusic is your daily dose of what's popular on social networks.
          </p>
          <p>
            Built with <a href="https://ibm.com/bluemix">IBM Bluemix</a>,
            Cloudant, <a href="https://console.ng.bluemix.net/catalog/insights-for-twitter/">Insights for Twitter</a> and the Spotify Web API.
          </p>
        </div>
      </div>
      <main flex layout="row" flex-xs="grow">
        <div flex ui-view layout="row">
          <p>
            content here
          </p>
        </div>
      </main>
    </div>

    <footer>
      <iframe id="spotifyPlayer" src="https://embed.spotify.com/?uri=spotify%3Aalbum%3A2rPnllspzKpF30V5O97wbp&theme=black"
        width="100%" height="80" frameborder="0" allowtransparency="true"></iframe>
    </footer>

  </div>

  <!-- Non Angular Libraries -->
  <script src="vendor/lodash/dist/lodash.min.js"></script>
  <script src="vendor/postal.js/lib/postal.min.js"></script>
  <script src="vendor/moment/min/moment.min.js"></script>

  <!-- Angular Material requires Angular.js Libraries -->
  <script src="vendor/angular/angular.min.js"></script>
  <script src="vendor/angular-animate/angular-animate.min.js"></script>
  <script src="vendor/angular-aria/angular-aria.min.js"></script>
  <script src="vendor/angular-messages/angular-messages.min.js"></script>
  <script src="vendor/angular-ui-router/release/angular-ui-router.min.js"></script>
  <script src="vendor/angular-css/angular-css.min.js"></script>

  <!-- Angular Material Library -->
  <script src="vendor/angular-material/angular-material.min.js"></script>

  <!-- Your application bootstrap  -->
  <script src="js/somusic.js"></script>
  <script src="js/ranking.service.js"></script>

  <script src="directives/entry/entry.js"></script>
  <script src="directives/ranking/ranking.js"></script>

  <script src="routes/home/home.js"></script>
  <script src="routes/by_month/by_month.js"></script>

  <script>
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-61192193-1', 'auto');
    ga('send', 'pageview');

  </script>

</body>
</html>
